{% extends "_layouts/base.html" %}

{% block headline %}
    <h1>{{ object.name }}</h1>
{% endblock headline %}

{% block content %}
    <div class="poster_stuff">
        <img src="{{ object.image_url }}" class="poster">
    </div>

    <div class="review_stuff">
        <p><b>Год: </b><a href="{% url 'movies:year_detail' %}?year={{ object.year }}">{{ object.year }}</a>.</p>
        
        <p><b>Жанр: </b><a href="{% url 'movies:genre_detail' %}?genre={{ object.genre }}">{{ object.genre }}</a>.</p>
        
        <p><b>Режиссёр: </b>{% for director in directors_list %}
            <a href="{% url 'movies:person_detail' director.pk %}">{{ director.name }}</a>{% if not forloop.last %}, {% else %}.{% endif %}
        {% endfor %}</p>

        {% if actors_list %}
            <p><b>В ролях: </b>{% for actor in actors_list %}
            <a href="{% url 'movies:person_detail' actor.pk %}">{{ actor.name }}</a>{% if not forloop.last %}, {% else %}.{% endif %}
            {% endfor %}</p>
        {% endif %}

        <br>

        <p>{{ object.review|safe|linebreaks }}</p>

        <br>

        <p><b>Оценка: </b>{{ object.grade }} из 10.</p>

        <p><b>Даты: </b>{% for date in dates_list %}
            {{ date }}{% if not forloop.last %}, {% else %}.{% endif %}
        {% endfor %}</p>

        <p>[<a href="{% url 'movies:movie_update' object.pk %}">Редактировать</a>]</p>
        <p>[<a href="{% url 'movies:movie_delete' object.pk %}">Удалить</a>]</p>
    </div>

{% endblock content %}